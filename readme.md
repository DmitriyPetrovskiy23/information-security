# Лекция по основам компьютерных сетей для специалистов по информационной безопасности

**Цель лекции:** Сформировать у специалистов по ИБ базовое понимание принципов работы компьютерных сетей, необходимое для анализа угроз, расследования инцидентов и построения эффективной системы защиты.

---

## 📋 Содержание
- [Введение](#1-введение-почему-специалисту-иб-важно-понимать-сети)
- [Модель OSI - подробный разбор](#2-модель-osi---подробный-разбор)
- [Ключевые концепции](#3-ключевые-сетевые-концепции-и-протоколы)
- [Сетевые устройства](#4-основные-сетевые-устройства-и-их-роль-в-безопасности)
- [Угрозы безопасности](#5-угрозы-сетевой-безопасности-краткий-обзор)
- [Современные технологии защиты](#6-современные-технологии-защиты)
- [Шифрование и сертификаты](#7-шифрование-электронные-подписи-и-сертификаты)
- [Заключение](#8-заключение)

---

## 1. Введение: Почему специалисту ИБ важно понимать сети?

Компьютерная сеть — это система связи, позволяющая устройствам обмениваться данными. Для специалиста по ИБ сеть представляет собой:

- **🛡️ Поле боя:** Большинство атак происходят через сеть
- **🔍 Источник доказательств:** Логи сетевых устройств и трафик содержат следы атак
- **🏗️ Объект защиты:** Правильная сегментация и настройка сети — основа безопасности

> **Важно:** Без понимания основ сетей невозможно построить эффективную систему защиты, так как вы не будете понимать **векторы атак** и **точки приложения контрмер**.

---

## 2. Модель OSI - подробный разбор

### Что такое модель OSI и зачем она нужна?

**Модель OSI (Open Systems Interconnection)** — это как "инструкция по сборке" для компьютерных сетей. Она делит всю сложную работу сети на 7 простых уровней, чтобы разные устройства и программы могли понимать друг друга.

**Простая аналогия:** Представьте, что вы отправляете письмо другу в другой город:

```
1. Уровень 7: Вы пишете письмо (содержание)
2. Уровень 6: Проверяете грамотность (формат)
3. Уровень 5: Договариваетесь о переписке (сессия)
4. Уровень 4: Решаете отправить заказным письмом (надежность)
5. Уровень 3: Пишете адрес (маршрутизация)
6. Уровень 2: Кладете в конверт (упаковка)
7. Уровень 1: Бросаете в почтовый ящик (передача)
```

### 📊 Общая схема модели OSI

```
┌─────────────────────────────────────────────────────────┐
│                    МОДЕЛЬ OSI (7 УРОВНЕЙ)               │
├─────────────────────────────────────────────────────────┤
│  УРОВЕНЬ 7 │ ПРИКЛАДНОЙ        │  Данные                │
│  УРОВЕНЬ 6 │ ПРЕДСТАВИТЕЛЬСКИЙ │  Данные                │
│  УРОВЕНЬ 5 │ СЕАНСОВЫЙ         │  Данные                │
├─────────────────────────────────────────────────────────┤
│  УРОВЕНЬ 4 │ ТРАНСПОРТНЫЙ      │  Сегменты (TCP/UDP)    │
├─────────────────────────────────────────────────────────┤
│  УРОВЕНЬ 3 │ СЕТЕВОЙ           │  Пакеты (IP)           │
│  УРОВЕНЬ 2 │ КАНАЛЬНЫЙ         │  Кадры (Ethernet)      │
│  УРОВЕНЬ 1 │ ФИЗИЧЕСКИЙ        │  Биты (сигналы)        │
└─────────────────────────────────────────────────────────┤
```

### 🎯 Подробный разбор каждого уровня

#### 🏷️ Уровень 7: Прикладной (Application Layer)
**Девиз:** "Что мы делаем?"
- Работа с приложениями и пользователем
- **Примеры:** HTTP/HTTPS (веб), SMTP (почта), FTP (файлы), DNS (домены)
- **Для ИБ:** Уровень веб-атак (XSS, SQL-инъекции), фишинг

#### 🎨 Уровень 6: Представительский (Presentation Layer)
**Девиз:** "На каком языке говорим?"
- Преобразование данных в нужный формат
- **Примеры:** SSL/TLS (шифрование), JPEG/MP4 (форматы)
- **Для ИБ:** Атаки на шифрование, уязвимости в SSL/TLS

#### 🤝 Уровень 5: Сеансовый (Session Layer)
**Девиз:** "Когда и как общаемся?"
- Управление сеансами связи
- **Примеры:** RPC, NetBIOS, PPTP
- **Для ИБ:** Hijacking сессий, атаки на аутентификацию

#### 🚚 Уровень 4: Транспортный (Transport Layer)
**Девиз:** "Как доставляем?"
- Надежная доставка данных между приложениями
- **Протоколы:** TCP (надежный), UDP (быстрый)
- **Для ИБ:** Сканирование портов, DDoS атаки

#### 🗺️ Уровень 3: Сетевой (Network Layer)
**Девиз:** "По какому маршруту?"
- Маршрутизация между сетями
- **Протокол:** IP (IP-адреса)
- **Для ИБ:** IP-спуфинг, атаки на маршрутизацию

#### 📦 Уровень 2: Канальный (Data Link Layer)
**Девиз:** "Кому в локальной сети?"
- Передача данных в пределах одной сети
- **Адреса:** MAC-адреса
- **Для ИБ:** ARP-спуфинг, сниффинг трафика

#### ⚡ Уровень 1: Физический (Physical Layer)
**Девиз:** "Как передаем сигналы?"
- Передача битов по физической среде
- **Компоненты:** Кабели, Wi-Fi, хабы
- **Для ИБ:** Физическая безопасность, перехват трафика

### 🔄 Как данные проходят через все уровни

**Сценарий: Вы отправляете email**

```
Уровень 7: Вы пишете "Привет!" в почтовой программе
Уровень 6: Сообщение шифруется (SSL)
Уровень 5: Устанавливается сеанс с почтовым сервером
Уровень 4: Данные разбиваются на сегменты TCP
Уровень 3: Добавляются IP-адреса (пакеты)
Уровень 2: Добавляются MAC-адреса (кадры)
Уровень 1: Преобразование в электрические сигналы
```

### 🆚 Сравнение с моделью TCP/IP

```
Модель OSI          vs     Модель TCP/IP
─────────────────────────────────────────────
Уровень 7: Прикладной  →   Уровень 4: Прикладной
Уровень 6: Представит.  
Уровень 5: Сеансовый
─────────────────────────────────────────────
Уровень 4: Транспортный →  Уровень 3: Транспортный
─────────────────────────────────────────────
Уровень 3: Сетевой     →   Уровень 2: Интернет
─────────────────────────────────────────────
Уровень 2: Канальный   →   Уровень 1: Сетевой доступ
Уровень 1: Физический
```

---

## 3. Ключевые сетевые концепции и протоколы

### 🌐 IP-адресация (IPv4)

| Параметр | Описание |
|----------|----------|
| **Назначение** | Уникальный логический идентификатор устройства в сети |
| **Формат** | 32 бита, записывается как 4 октета (`192.168.1.10`) |
| **Маска подсети** | Определяет границы сети и хоста (`255.255.255.0` = `/24`) |

### 🎯 Подробное объяснение маски подсети

**Маска подсети** — это 32-битное число, которое определяет, какая часть IP-адреса относится к адресу сети, а какая — к адресу конкретного устройства (хоста) в этой сети.

#### Как работает маска подсети:

**Битовое представление:**
- **1** (единицы) — определяет часть сети
- **0** (нули) — определяет часть хоста

**Пример 1: Маска 255.255.255.0 (/24)**
```
IP-адрес:   192.168.1.150
Маска:      255.255.255.0
В битах:    11111111.11111111.11111111.00000000
            ------------------------- ---------
                  СЕТЬ (24 бита)      ХОСТ (8 бит)
```

**Расчет:**
- Адрес сети: `192.168.1.0` (первые 3 октета)
- Адрес хоста: `.150` (последний октет)
- Доступные адреса: `192.168.1.1` - `192.168.1.254`
- Широковещательный адрес: `192.168.1.255`

#### 💡 Практическое значение для ИБ:

1. **Сегментация сети** — разные подсети = разные зоны безопасности
2. **Контроль доступа** — правила firewall основываются на подсетях
3. **Обнаружение аномалий** — трафик между несвязанными подсетями = подозрительно
4. **Содержание атак** — изоляция зараженной подсети

**Частные адреса (RFC 1918):**
```
10.0.0.0    - 10.255.255.255  (/8)      - 16+ миллионов адресов
172.16.0.0  - 172.31.255.255  (/12)     - 1+ миллион адресов
192.168.0.0 - 192.168.255.255 (/16)     - 65,534 адреса
```

> Эти адреса не маршрутизируются в интернете и используются внутри организаций.

### ⚡ TCP vs UDP: Сравнение транспортных протоколов

| Параметр | TCP | UDP |
|----------|-----|-----|
| **Соединение** | ✅ Установление соединения | ❌ Бессоединный |
| **Надежность** | ✅ Гарантированная доставка | ❌ Доставка не гарантируется |
| **Скорость** | ⚠️ Медленнее | ✅ Быстрее |
| **Использование** | Веб-браузинг, email, файлы | Видеостриминг, VoIP, DNS |

**Ключевые понятия:**
- **Порты:** Виртуальные "двери" для служб (0-1023: известные, 1024-49151: зарегистрированные, 49152-65535: динамические)
- **Сокет:** Комбинация IP-адреса и порта (`192.168.1.10:80`)

### 📞 DNS (Domain Name System)

**"Телефонная книга интернета"** - преобразует доменные имена в IP-адреса.

**Угрозы DNS:**
- 🚨 **DNS-спуфинг / DNS-кэш-отравление** - подмена DNS-записей
- 🚨 **Перехват DNS-трафика** - перенаправление на сервер злоумышленника

### 🔄 ARP (Address Resolution Protocol)

**"Переводчик" между IP и MAC** - определяет MAC-адрес по IP-адресу в локальной сети.

**Угроза: ARP-спуфинг (ARP Poisoning)**
- Злоумышленник подменяет ARP-таблицы
- Позволяет перехватывать трафик (MitM-атака)

---

## 4. Основные сетевые устройства и их роль в безопасности

| Устройство | Уровень OSI | Функция | Взгляд ИБ |
|------------|-------------|---------|-----------|
| **Концентратор (Hub)** | 1 | Пересылает трафик на все порты | ❌ **Небезопасен!** Сниффинг трафика |
| **Коммутатор (Switch)** | 2 | Пересылает трафик по MAC-адресу | ⚠️ **Безопаснее хаба.** Уязвим к ARP-спуфингу |
| **Маршрутизатор (Router)** | 3 | Соединяет сети, маршрутизация | ✅ **Межсетевой экран.** Фильтрация между сегментами |
| **Межсетевой экран (Firewall)** | 3-4 | Фильтрация трафика по правилам | ✅ **Ключевой элемент защиты** |

---

## 5. Угрозы сетевой безопасности: Краткий обзор

### 🎯 Основные категории угроз

| Угроза | Описание | Защита |
|--------|----------|---------|
| **Сниффинг (Sniffing)** | Прослушивание сетевого трафика | Шифрование (HTTPS, VPN) |
| **Спуфинг (Spoofing)** | Подмена IP/MAC-адреса | Фильтрация на маршрутизаторах |
| **DoS/DDoS** | Перегрузка цели трафиком | Anti-DDoS решения |
| **Man-in-the-Middle** | Перехват и изменение трафика | Аутентификация, шифрование |
| **Сканирование портов** | Поиск открытых портов | Закрытие неиспользуемых портов |

---

## 6. Современные технологии защиты

### 🔥 Межсетевые экраны следующего поколения (NGFW)

**NGFW (Next-Generation Firewall)** — это как современный охранник с продвинутыми сканерами:

#### Чем отличается от обычного firewall:
- **Обычный firewall:** Смотрит только на IP и порты
- **NGFW:** Анализирует содержимое, знает кто пользователь, контролирует приложения

#### Пример работы:
```
NGFW видит:
- Пользователь: "Иванов И.И."
- Приложение: "Facebook" 
- Время: 14:30 (рабочее время)
- Действие: Просмотр ленты
Решение: ❌ БЛОКИРОВАТЬ (соцсети в рабочее время запрещены)
```

#### Ключевые функции NGFW:
1. **Определение приложений** - знает что вы используете: Facebook, Zoom, BitTorrent
2. **Контроль пользователей** - идентифицирует кто именно, а не просто IP
3. **Глубокая проверка** - видит внутрь зашифрованного трафика
4. **Защита от угроз** - встроенный антивирус и IPS
5. **SSL инспекция** - проверяет HTTPS трафик

### 🛡️ Системы обнаружения и предотвращения вторжений (IDS/IPS)

#### IDS (Intrusion Detection System) - как камеры наблюдения:
- **Видит** угрозы, но **не блокирует**
- Только сообщает администратору
- Режим: "Внимание! Подозрительная активность!"

#### IPS (Intrusion Prevention System) - как вооруженная охрана:
- **Видит и блокирует** угрозы автоматически
- Активно защищает сеть
- Режим: "Тревога! Блокирую атаку!"

#### Пример сценария:
```
Хакер сканирует порты компании:
IDS: "Внимание! IP 95.123.45.67 сканирует наши порты"
IPS: ❌ БЛОКИРУЕТ IP 95.123.45.67 на 24 часа
```

#### Типы обнаружения:
- **Сигнатурный анализ** - ищет известные шаблоны атак
- **Обнаружение аномалий** - ищет отклонения от нормального поведения
- **Эвристический анализ** - ищет подозрительные паттерны

### 🔒 Технологии виртуальных частных сетей (VPN)

**VPN** — это безопасный туннель через интернет, как бронированный автомобиль с тонированными стеклами.

#### Зачем нужен VPN:
- **Удаленная работа** - доступ к офисной сети из дома
- **Безопасность в кафе** - защита в публичных Wi-Fi сетях
- **Соединение офисов** - объединение филиалов в одну сеть

#### Как работает:
```
Без VPN:
[ВАШ КОМПЬЮТЕР] → [ОТКРЫТЫЙ ИНТЕРНЕТ] → [САЙТ БАНКА]

С VPN:
[ВАШ КОМПЬЮТЕР] → [ЗАШИФРОВАННЫЙ ТОННЕЛЬ] → [VPN СЕРВЕР] → [САЙТ БАНКА]
```

#### Типы VPN:
- **Remote Access VPN** - для удаленных сотрудников
- **Site-to-Site VPN** - для соединения офисов

---

## 7. Шифрование, электронные подписи и сертификаты

### 🔐 Основы шифрования

**Шифрование** - это превращение информации в "тарабарщину", чтобы чужие не смогли прочитать.

#### Типы шифрования:

**Симметричное шифрование** - один ключ на всех:
- Как обычный замок с одним ключом
- **Примеры:** AES, DES, 3DES
- **Проблема:** Как безопасно передать ключ?

**Асимметричное шифрование** - два ключа: публичный и приватный:
- **Публичный ключ** - можно всем раздавать (как адрес ящика)
- **Приватный ключ** - только у вас (как ключ от ящика)
- **Примеры:** RSA, ECC

### 📧 Электронные подписи

**Электронная подпись** - это цифровая версия печати и подписи, которая подтверждает:
- **Кто** подписал документ
- **Когда** подписал  
- Что документ **не менялся** после подписания

#### Как работает:
```
1. Создается "отпечаток" документа (хеш)
2. Отпечаток шифруется приватным ключом → подпись
3. Получатель проверяет публичным ключом
```

#### Примеры использования:
- Электронный документооборот
- Сдача отчетности в госорганы
- Внутренние приказы и распоряжения

### 📜 Сертификаты

**Сертификат** - это как паспорт для вашего публичного ключа, который подтверждает его подлинность.

#### Что внутри сертификата:
```
СЕРТИФИКАТ:
├── Владелец: "Иванов Иван Иванович"
├── Организация: "ООО Ромашка"
├── Публичный ключ
├── Срок действия
└── Подпись Удостоверяющего Центра
```

#### Типы сертификатов:
- **Квалифицированный** - самый надежный, равен собственноручной подписи
- **Неквалифицированный** - для внутреннего использования
- **Самоподписанный** - только для тестирования

### 🛠️ Практическое использование

#### Что нужно для работы:
1. **СКЗИ** - программы для шифрования (КриптоПро, ViPNet)
2. **Ключевые носители** - eToken, Рутокен (специальные USB-флешки)
3. **Программы для подписания** - КриптоАРМ

#### Процесс подписания документа:
```
1. Вставляем ключевой носитель в USB
2. Вводим PIN-код
3. Выбираем файл для подписания
4. Выбираем сертификат
5. Получаем подписанный файл (.sig)
```

---

## 8. Заключение

Понимание основ сетей — **обязательное требование** для компетентного специалиста по информационной безопасности.

### 🎯 Ключевые выводы:

1. **Модель OSI** - фундамент для понимания как работает сеть
2. **IP-адресация и маски** - основа сегментации и контроля доступа
3. **NGFW, IPS, VPN** - современные технологии защиты
4. **Шифрование и подписи** - обеспечение конфиденциальности и целостности

### 📚 Что изучать дальше:

- **Практическое настройка** сетевого оборудования
- **Анализ сетевого трафика** с помощью Wireshark
- **Углубленное изучение** протоколов безопасности
- **Сертификации** по сетевой безопасности (Cisco, Fortinet)

### 💡 Рекомендации для начинающих:

1. **Начните с основ** - разберитесь с моделью OSI
2. **Практикуйтесь** - настройте домашнюю сеть
3. **Используйте инструменты** - Wireshark для анализа трафика
4. **Следите за трендами** - читайте про новые угрозы и защиты

> **Запомните:** Сетевая безопасность - это не страшно! Это логичная система, где каждая угроза имеет свою защиту, а каждая технология решает конкретную задачу.

---
<div align="center">

**📚 [Вернуться к началу](#лекция-по-основам-компьютерных-сетей-для-специалистов-по-информационной-безопасности)**

*"В безопасности нет мелочей - есть только детали, которые мы еще не поняли"*
</div>
