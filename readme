# Лекция по основам компьютерных сетей для специалистов по информационной безопасности

**Цель лекции:** Сформировать у специалистов по ИБ базовое понимание принципов работы компьютерных сетей, необходимое для анализа угроз, расследования инцидентов и построения эффективной системы защиты.

---

## 1. Введение: Почему специалисту ИБ важно понимать сети?

Компьютерная сеть — это система связи, позволяющая устройствам обмениваться данными. Для специалиста по ИБ сеть представляет собой:

*   **Поле боя:** Большинство атак происходят через сеть.
*   **Источник доказательств:** Логи сетевых устройств и трафик содержат следы атак.
*   **Объект защиты:** Правильная сегментация и настройка сети — основа безопасности.

Без понимания основ сетей невозможно построить эффективную систему защиты, так как вы не будете понимать **векторы атак** и **точки приложения контрмер**.

---

## 2. Базовая модель взаимодействия: OSI и TCP/IP

Чтобы понимать, как данные передаются по сети, используются эталонные модели.

### Модель OSI (The Open Systems Interconnection model)

Теоретическая модель из 7 уровней. Помогает понять процесс передачи данных поэтапно.

| Уровень | Название | Функция | Примеры | Взгляд ИБ-специалиста |
|---------|----------|---------|---------|----------------------|
| **7** | Прикладной (Application) | Доступ к сетевым службам | HTTP, HTTPS, FTP, DNS, SMTP | **Уровень атак на приложения.** Место для XSS, SQLi, фишинга. Анализ веб-трафика. |
| **6** | Представительский (Presentation) | Представление и шифрование данных | SSL/TLS, JPEG, MPEG | **Уровень шифрования.** SSL/TLS-инспекция, атаки на криптографию. |
| **5** | Сеансовый (Session) | Управление сеансом связи | NetBIOS, RPC | **Уровень управления соединением.** Может использоваться для поддержания бэкдоров. |
| **4** | Транспортный (Transport) | Надежная передача данных между узлами | TCP, UDP | **Ключевой уровень для фильтрации.** Определяем службы (порты). Атаки: сканирование портов, SYN-flood. |
| **3** | Сетевой (Network) | Определение маршрута и логическая адресация | IP, ICMP, routers | **Уровень маршрутизации.** Атаки: IP-спуфинг, MitM, подмена маршрутов. |
| **2** | Канальный (Data Link) | Физическая адресация и доступ к среде | Ethernet, MAC-адреса, коммутаторы | **Уровень локальной сети.** Атаки: ARP-спуфинг, сниффинг трафика. |
| **1** | Физический (Physical) | Передача битов по среде | Кабели (витая пара, оптоволокно), хабы, сигналы | **Физическая безопасность.** Защита кабелей от прослушивания. |

### Модель TCP/IP (Практическая модель)

Реализованная на практике модель, используемая в интернете. Её уровни соответствуют упрощенной модели OSI.

1.  **Прикладной уровень (Application):** Объединяет уровни 5-7 OSI. Протоколы: HTTP, DNS, SMTP.
2.  **Транспортный уровень (Transport):** Аналог уровня 4 OSI. Протоколы: TCP, UDP.
3.  **Сетевой уровень (Internet):** Аналог уровня 3 OSI. Протокол: IP.
4.  **Уровень сетевого доступа (Network Access):** Объединяет уровни 1-2 OSI. Ethernet, Wi-Fi.

**Инкапсуляция данных** — это процесс упаковки данных с верхнего уровня в «конверты» нижних уровней при отправке и обратный процесс (деинкапсуляция) при получении.

*   **Отправка:** `Данные -> Сегмент (TCP/UDP) -> Пакет (IP) -> Кадр (Ethernet) -> Биты`
*   **Получение:** `Биты -> Кадр -> Пакет -> Сегмент -> Данные`

---

## 3. Ключевые сетевые концепции и протоколы

### IP-адресация (IPv4)

*   **Назначение:** Уникальный логический идентификатор устройства в сети.
*   **Формат:** 32 бита, записывается как 4 октета (например, `192.168.1.10`).
*   **Маска подсети:** Определяет, какая часть IP-адреса относится к сети, а какая — к узлу (хосту). Например, `255.255.255.0` (`/24`) означает, что первые 3 октета — адрес сети, последний — адрес хоста.
*   **Классы частных адресов (RFC 1918):**
    *   `10.0.0.0 — 10.255.255.255` (маска `/8`)
    *   `172.16.0.0 — 172.31.255.255` (маска `/12`)
    *   `192.168.0.0 — 192.168.255.255` (маска `/16`)
    *   Эти адреса не маршрутизируются в интернете и используются внутри организаций.

### TCP и UDP: Два брата на транспорте

| Параметр | TCP (Transmission Control Protocol) | UDP (User Datagram Protocol) |
|----------|-----------------------------------|------------------------------|
| **Соединение** | Установление соединения (рукопожатие) | Бессоединный |
| **Надежность** | Гарантированная доставка, контроль ошибок | Доставка не гарантируется |
| **Скорость** | Медленнее (из-за накладных расходов) | Быстрее |
| **Использование** | Веб-браузинг (HTTP/S), email, передача файлов | Видеостриминг, VoIP, DNS, онлайн-игры |

*   **Порты:** Виртуальные «двери» на устройстве, которые идентифицируют службу или приложение. Диапазоны: 0-1023 (известные), 1024-49151 (зарегистрированные), 49152-65535 (динамические).
*   **Сокет:** Уникальная комбинация **IP-адреса** и **порта** (например, `192.168.1.10:80`).

### DNS (Domain Name System) — «Телефонная книга интернета»

*   **Назначение:** Преобразует понятные человеку доменные имена (например, `google.com`) в машиночитаемые IP-адреса (например, `142.251.39.206`).
*   **Угрозы:**
    *   **DNS-спуфинг / DNS-кэш-отравление:** Злоумышленник подменяет DNS-записи, чтобы перенаправить жертву на фишинговый сайт.
    *   **Перехват DNS-трафика:** Атака, при которой трафик жертвы перенаправляется через сервер злоумышленника.

### ARP (Address Resolution Protocol) — «Переводчик» между IP и MAC

*   **Назначение:** Определяет MAC-адрес устройства по его IP-адресу в локальной сети (LAN).
*   **Угроза: ARP-спуфинг (ARP Poisoning).** Злоумышленник рассылает в сеть поддельные ARP-сообщения, связывая свой MAC-адрес с IP-адресом другого узла (например, шлюза по умолчанию). Это позволяет перехватывать трафик жертвы (атака Man-in-the-Middle).

---

## 4. Основные сетевые устройства и их роль в безопасности

| Устройство | Уровень OSI | Основная функция | Взгляд ИБ-специалиста |
|------------|-------------|------------------|----------------------|
| **Концентратор (Hub)** | 1 (Физический) | Пересылает трафик на все порты. | **Небезопасен!** Создает общую среду, идеальную для сниффинга. Не использовать. |
| **Коммутатор (Switch)** | 2 (Канальный) | Пересылает трафик только на порт получателя на основе MAC-адреса. | **Безопаснее хаба.** Но уязвим к ARP-спуфингу. Необходимо настройка Port Security, VLAN. |
| **Маршрутизатор (Router)** | 3 (Сетевой) | Соединяет разные сети и принимает решения о маршрутизации на основе IP-адресов. | **Межсетевой экран.** Ключевая точка для фильтрации трафика между сегментами сети (ACL). |
| **Межсетевой экран (Firewall)** | 3-4 (Сетевой/Транспортный) | Фильтрует входящий и исходящий сетевой трафик на основе правил. | **Ключевой элемент защиты.** Контролирует трафик на основе IP, портов, протоколов. Современные (NGFW) работают и на прикладном уровне. |

---

## 5. Угрозы сетевой безопасности: Краткий обзор

1.  **Сниффинг (Sniffing)** — прослушивание сетевого трафика. Защита: шифрование (HTTPS, VPN).
2.  **Спуфинг (Spoofing)** — подмена исходного IP- или MAC-адреса. Защита: фильтрация на маршрутизаторах и коммутаторах.
3.  **Атаки на отказ в обслуживании (DoS/DDoS)** — перегрузка цели трафиком, делающая её недоступной. Защита: специалированные решения (Anti-DDoS).
4.  **Атака Man-in-the-Middle (MitM)** — тайное прослушивание или изменение связи между двумя сторонами. Защита: аутентификация и шифрование канала.
5.  **Сканирование портов** — поиск открытых портов на целевом устройстве для выявления уязвимых служб. Защита: корректная настройка МЭ и закрытие неиспользуемых портов.

---

## 6. Заключение

Понимание основ сетей — не опция, а **обязательное требование** для компетентного специалиста по информационной безопасности. Оно позволяет:

*   **Проактивно выявлять** и блокировать векторы атак.
*   **Грамотно настраивать** и обслуживать средства защиты (МЭ, IPS, VPN).
*   **Эффективно расследовать** инциденты, анализируя сетевые логи и пакеты.
*   **Архитектурно правильно** проектировать безопасную сетевую инфраструктуру.

**Следующий шаг:** Глубокое изучение работы межсетевых экранов, систем обнаружения и предотвращения вторжений (IDS/IPS), а также технологий виртуальных частных сетей (VPN).
